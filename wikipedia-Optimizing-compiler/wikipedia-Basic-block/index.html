<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="DengKing">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>wikipedia Basic block - compiler principle</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "wikipedia Basic block";
    var mkdocs_page_input_path = "wikipedia-Optimizing-compiler/wikipedia-Basic-block.md";
    var mkdocs_page_url = "/compiler-principle/wikipedia-Optimizing-compiler/wikipedia-Basic-block/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/django.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> compiler principle</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter1</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter1-Introduction/">1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter1-Introduction/1.1Language-Processors/">1.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter1-Introduction/1.2The-Structure-of-a-Compiler/">1.2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter1-Introduction/1.5Applications-of-Compiler-Technology/">1.5</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter1-Introduction/1.6Programming-Language-Basics/">1.6</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter2</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter2-A-Simple-Syntax-Directed-Translator/">2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter2-A-Simple-Syntax-Directed-Translator/2.1Introduction/">2.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter2-A-Simple-Syntax-Directed-Translator/2.2Syntax-Definition/">2.2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter2-A-Simple-Syntax-Directed-Translator/2.3Syntax-Directed-Translation/">2.3</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter2-A-Simple-Syntax-Directed-Translator/2.4Parsing/">2.4</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter3</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter3-Lexical-Analysis/">3</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter3-Lexical-Analysis/3.1The-Role-of-the-Lexical-Analyzer/">3.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter3-Lexical-Analysis/3.4Recognition-of-Tokens/">3.4</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter3-Lexical-Analysis/3.6Finite-Automata/">3.6</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter3-Lexical-Analysis/3.7From-Regular-Expressions-to-Automata/">3.7</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter4</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter4-Syntax-Analysis/">4</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter4-Syntax-Analysis/4.2Context-Free-Grammars/">4.2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter4-Syntax-Analysis/4.3Writing-a-Grammar/">4.3</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter4-Syntax-Analysis/4.5Bottom-Up-Parsing/">4.5</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter4-Syntax-Analysis/4.6Introduction-to-LR-Parsing-Simple-LR/">4.6</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter4-Syntax-Analysis/4.7More-Powerful-LR-Parsers/">4.7</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter4-Syntax-Analysis/VS-LL-parser-VS-LR-parser/">VS-LL-parser-VS-LR-parser</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter5</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter5-Syntax-Directed-Translation/">5</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter5-Syntax-Directed-Translation/5.1Syntax-Directed-Definitions/">5.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter5-Syntax-Directed-Translation/5.2Evaluation-Orders-for-SDD's/">5.2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter5-Syntax-Directed-Translation/5.3Applications-of-Syntax-Directed-Translation/">5.3</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter6</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter6-Intermediate-Code-Generation/">6</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter6-Intermediate-Code-Generation/6.3Types-and-Declarations/">6.3</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter7</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter7-Run-Time-Environments/">7</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter7-Run-Time-Environments/7.1Storage-Organization/">7.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../Chapter7-Run-Time-Environments/7.2Stack-Allocation-of-Space/">7.2</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter9</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Chapter9-Machine-Independent-Optimizations/">9</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">compiler principle</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>wikipedia Basic block</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <div class="toc">
<ul>
<li><a href="#basic_block">Basic block</a><ul>
<li><a href="#definition">Definition</a></li>
</ul>
</li>
<li><a href="#basic_blocks_and_flow_graphs_examples">Basic Blocks and Flow Graphs | Examples</a><ul>
<li><a href="#basic_blocks">Basic Blocks</a><ul>
<li><a href="#example_of_basic_block">Example Of Basic Block</a></li>
<li><a href="#example_of_not_a_basic_block">Example Of Not A Basic Block</a></li>
</ul>
</li>
<li><a href="#partitioning_intermediate_code_into_basic_blocks">Partitioning Intermediate Code Into Basic Blocks</a><ul>
<li><a href="#rule-01_determining_leaders">Rule-01: Determining Leaders</a></li>
<li><a href="#rule-02_determining_basic_blocks">Rule-02: Determining Basic Blocks</a></li>
</ul>
</li>
<li><a href="#flow_graphs">Flow Graphs</a></li>
<li><a href="#practice_problems_based_on_basic_blocks_flow_graphs">PRACTICE PROBLEMS BASED ON BASIC BLOCKS &amp; FLOW GRAPHS</a></li>
<li><a href="#problem-01">Problem-01:</a><ul>
<li><a href="#solution">Solution</a></li>
</ul>
</li>
<li><a href="#problem-02">Problem-02:</a></li>
<li><a href="#solution_1">Solution</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="basic_block"><a href="https://en.wikipedia.org/wiki/Basic_bloc">Basic block</a><a class="headerlink" href="#basic_block" title="Permanent link">#</a></h2>
<p>In <a href="https://en.wikipedia.org/wiki/Compiler">compiler construction</a>, a <strong>basic block</strong> is a straight-line code sequence with no branches in except to the entry and no branches out except at the exit.[<a href="https://en.wikipedia.org/wiki/Basic_block#cite_note-1">1]</a>[<a href="https://en.wikipedia.org/wiki/Basic_block#cite_note-2">2]</a> This restricted form makes a basic block highly amenable to analysis.[<a href="https://en.wikipedia.org/wiki/Basic_block#cite_note-3">3]</a> <a href="https://en.wikipedia.org/wiki/Compiler">Compilers</a> usually decompose programs into their basic blocks as a first step in the analysis process. Basic blocks form the vertices or nodes in a <a href="https://en.wikipedia.org/wiki/Control_flow_graph">control flow graph</a>.</p>
<h3 id="definition">Definition<a class="headerlink" href="#definition" title="Permanent link">#</a></h3>
<p>The code in a basic block has:</p>
<ul>
<li>One <a href="https://en.wikipedia.org/wiki/Entry_point">entry point</a>, meaning no code within it is the destination of a <a href="https://en.wikipedia.org/wiki/Jump_instruction">jump instruction</a> anywhere in the program.</li>
<li>One exit point, meaning only the last instruction can cause the program to begin executing code in a different basic block.</li>
</ul>
<p>Under these circumstances, whenever the first instruction in a basic block is executed, the rest of the instructions are necessarily executed exactly once, in order.[<a href="https://en.wikipedia.org/wiki/Basic_block#cite_note-4">4]</a>[<a href="https://en.wikipedia.org/wiki/Basic_block#cite_note-5">5]</a></p>
<p>The code may be <a href="https://en.wikipedia.org/wiki/Source_code">source code</a>, <a href="https://en.wikipedia.org/wiki/Assembly_code">assembly code</a> or some other sequence of instructions.</p>
<p>More formally, a sequence of instructions forms a basic block if:</p>
<ul>
<li>The instruction in each position <a href="https://en.wikipedia.org/wiki/Dominator_(graph_theory)">dominates</a>, or always executes before, all those in later positions.</li>
<li>No other instruction executes between two instructions in the sequence.</li>
</ul>
<p>This definition is more general than the intuitive one in some ways. For example, it allows unconditional jumps to labels not targeted by other jumps. This definition embodies the properties that make basic blocks easy to work with when constructing an algorithm.</p>
<p>The blocks to which control may transfer after reaching the end of a block are called that block's <em>successors</em>, while the blocks from which control may have come when entering a block are called that block's <em>predecessors</em>. The start of a basic block may be jumped to from more than one location.</p>
<h2 id="basic_blocks_and_flow_graphs_examples"><a href="https://www.gatevidyalay.com/basic-blocks-and-flow-graphs/">Basic Blocks and Flow Graphs | Examples</a><a class="headerlink" href="#basic_blocks_and_flow_graphs_examples" title="Permanent link">#</a></h2>
<h3 id="basic_blocks">Basic Blocks<a class="headerlink" href="#basic_blocks" title="Permanent link">#</a></h3>
<p>Basic block is a set of statements that always executes in a sequence one after the other.</p>
<p>The characteristics of basic blocks are</p>
<ul>
<li>They do not contain any kind of <code>jump</code> statements in them.</li>
<li>There is no possibility of branching or getting halt in the middle.</li>
<li>All the statements execute in the same order they appear.</li>
<li>They do not lose lose the flow control of the program.</li>
</ul>
<blockquote>
<p>NOTE: 有点原子的含义</p>
</blockquote>
<h4 id="example_of_basic_block">Example Of Basic Block<a class="headerlink" href="#example_of_basic_block" title="Permanent link">#</a></h4>
<p>Three Address Code for the expression <code>a = b + c + d</code> is-</p>
<p><img alt="Example Of Basic Block" src="https://www.gatevidyalay.com/wp-content/uploads/2018/03/Example-Of-Basic-Block.png" /></p>
<p>Here,</p>
<ul>
<li>All the statements execute in a sequence one after the other.</li>
<li>Thus, they form a basic block.</li>
</ul>
<h4 id="example_of_not_a_basic_block">Example Of Not A Basic Block<a class="headerlink" href="#example_of_not_a_basic_block" title="Permanent link">#</a></h4>
<p>Three Address Code for the expression <code>If A&lt;B then 1 else 0</code> is-</p>
<p><img alt="Example Of Not A Basic Block" src="https://www.gatevidyalay.com/wp-content/uploads/2018/03/Example-Of-Not-A-Basic-Block-1.png" /></p>
<p>Here,</p>
<ul>
<li>The statements do not execute in a sequence one after the other.</li>
<li>Thus, they do not form a basic block.</li>
</ul>
<h3 id="partitioning_intermediate_code_into_basic_blocks">Partitioning Intermediate Code Into Basic Blocks<a class="headerlink" href="#partitioning_intermediate_code_into_basic_blocks" title="Permanent link">#</a></h3>
<p>Any given code can be partitioned into basic blocks using the following rules</p>
<h4 id="rule-01_determining_leaders">Rule-01: Determining Leaders<a class="headerlink" href="#rule-01_determining_leaders" title="Permanent link">#</a></h4>
<p>Following statements of the code are called as <strong>Leaders</strong></p>
<ul>
<li>First statement of the code.</li>
<li>Statement that is a <strong>target</strong> of the conditional or unconditional <code>goto</code> statement.</li>
<li>Statement that appears immediately after a <code>goto</code> statement.</li>
</ul>
<h4 id="rule-02_determining_basic_blocks">Rule-02: Determining Basic Blocks<a class="headerlink" href="#rule-02_determining_basic_blocks" title="Permanent link">#</a></h4>
<ul>
<li>All the statements that follow the <strong>leader</strong> (including the <strong>leader</strong>) till the <strong>next leader</strong> appears form one basic block.</li>
<li>The first statement of the code is called as the <strong>first leader</strong>.</li>
<li>The block containing the <strong>first leader</strong> is called as <strong>Initial block</strong>.</li>
</ul>
<h3 id="flow_graphs">Flow Graphs<a class="headerlink" href="#flow_graphs" title="Permanent link">#</a></h3>
<p>A flow graph is a directed graph with flow control information added to the basic blocks.</p>
<ul>
<li>The <strong>basic blocks</strong> serve as <strong>nodes</strong> of the flow graph.</li>
<li>There is a directed edge from block <code>B1</code> to block <code>B2</code> if <code>B2</code> appears immediately after <code>B1</code> in the code.</li>
</ul>
<h3 id="practice_problems_based_on_basic_blocks_flow_graphs">PRACTICE PROBLEMS BASED ON BASIC BLOCKS &amp; FLOW GRAPHS<a class="headerlink" href="#practice_problems_based_on_basic_blocks_flow_graphs" title="Permanent link">#</a></h3>
<h3 id="problem-01">Problem-01:<a class="headerlink" href="#problem-01" title="Permanent link">#</a></h3>
<p>Compute the basic blocks for the given three address statements</p>
<pre><code>(1) PROD = 0

(2) I = 1

(3) T2 = addr(A) – 4

(4) T4 = addr(B) – 4

(5) T1 = 4 x I

(6) T3 = T2[T1]

(7) T5 = T4[T1]

(8) T6 = T3 x T5

(9) PROD = PROD + T6

(10) I = I + 1

(11) IF I &lt;=20 GOTO (5)
</code></pre>

<h4 id="solution">Solution<a class="headerlink" href="#solution" title="Permanent link">#</a></h4>
<p>We have-</p>
<ul>
<li><code>PROD = 0</code> is a leader since first statement of the code is a leader.</li>
<li><code>T1 = 4 x I</code> is a leader since target of the conditional goto statement is a leader.</li>
</ul>
<p>Now, the given code can be partitioned into two basic blocks as-</p>
<p><img alt="Basic Blocks and Flow Graphs | Problem-01 | Basic Blocks" src="https://www.gatevidyalay.com/wp-content/uploads/2018/03/Basic-Blocks-and-Flow-Graphs-Problem-01-Basic-Blocks.png" /></p>
<h3 id="problem-02">Problem-02:<a class="headerlink" href="#problem-02" title="Permanent link">#</a></h3>
<p>Draw a flow graph for the three address statements given in problem-01.</p>
<h3 id="solution_1">Solution<a class="headerlink" href="#solution_1" title="Permanent link">#</a></h3>
<ul>
<li>Firstly, we compute the basic blocks (already done above).</li>
<li>Secondly, we assign the flow control information.</li>
</ul>
<p>The required <strong>flow graph</strong> is-</p>
<p><img alt="Basic Blocks and Flow Graphs | Problem-02 | Flow Graphs" src="https://www.gatevidyalay.com/wp-content/uploads/2018/03/Basic-Blocks-and-Flow-Graphs-Problem-02-Flow-Graphs.png" /></p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dengking/compiler-principle" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
