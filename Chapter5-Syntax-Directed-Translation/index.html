<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="DengKing">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>5 - compiler principle</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = 5;
    var mkdocs_page_input_path = "Chapter5-Syntax-Directed-Translation/index.md";
    var mkdocs_page_url = "/compiler-principle/Chapter5-Syntax-Directed-Translation/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/django.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> compiler principle</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter1</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Chapter1-Introduction/">1</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter1-Introduction/1.1Language-Processors/">1.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter1-Introduction/1.2The-Structure-of-a-Compiler/">1.2</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter1-Introduction/1.5Applications-of-Compiler-Technology/">1.5</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter1-Introduction/1.6Programming-Language-Basics/">1.6</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter2</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Chapter2-A-Simple-Syntax-Directed-Translator/">2</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter2-A-Simple-Syntax-Directed-Translator/2.1Introduction/">2.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter2-A-Simple-Syntax-Directed-Translator/2.2Syntax-Definition/">2.2</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter2-A-Simple-Syntax-Directed-Translator/2.3Syntax-Directed-Translation/">2.3</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter2-A-Simple-Syntax-Directed-Translator/2.4Parsing/">2.4</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter3</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Chapter3-Lexical-Analysis/">3</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter3-Lexical-Analysis/3.1The-Role-of-the-Lexical-Analyzer/">3.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter3-Lexical-Analysis/3.4Recognition-of-Tokens/">3.4</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter3-Lexical-Analysis/3.6Finite-Automata/">3.6</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter3-Lexical-Analysis/3.7From-Regular-Expressions-to-Automata/">3.7</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter4</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Chapter4-Syntax-Analysis/">4</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter4-Syntax-Analysis/4.2Context-Free-Grammars/">4.2</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter4-Syntax-Analysis/4.3Writing-a-Grammar/">4.3</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter4-Syntax-Analysis/4.5Bottom-Up-Parsing/">4.5</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter4-Syntax-Analysis/4.6Introduction-to-LR-Parsing-Simple-LR/">4.6</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter4-Syntax-Analysis/4.7More-Powerful-LR-Parsers/">4.7</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter4-Syntax-Analysis/VS-LL-parser-VS-LR-parser/">VS-LL-parser-VS-LR-parser</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter5</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="./">5</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#chapter_5_syntax-directed_translation">Chapter 5 Syntax-Directed Translation</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="5.1Syntax-Directed-Definitions/">5.1</a>
                </li>
                <li class="">
                    
    <a class="" href="5.2Evaluation-Orders-for-SDD's/">5.2</a>
                </li>
                <li class="">
                    
    <a class="" href="5.3Applications-of-Syntax-Directed-Translation/">5.3</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter6</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Chapter6-Intermediate-Code-Generation/">6</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter6-Intermediate-Code-Generation/6.3Types-and-Declarations/">6.3</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter7</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Chapter7-Run-Time-Environments/">7</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter7-Run-Time-Environments/7.1Storage-Organization/">7.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chapter7-Run-Time-Environments/7.2Stack-Allocation-of-Space/">7.2</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Chapter9</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Chapter9-Machine-Independent-Optimizations/">9</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">compiler principle</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Chapter5 &raquo;</li>
        
      
    
    <li>5</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="chapter_5_syntax-directed_translation">Chapter 5 Syntax-Directed Translation<a class="headerlink" href="#chapter_5_syntax-directed_translation" title="Permanent link">#</a></h2>
<p>This chapter develops the theme of Section 2.3: the translation of languages guided by <strong>context-free grammars</strong>. The translation techniques in this chapter will be applied in Chapter 6 to <strong>type checking</strong> and <strong>intermediate-code generation</strong>. The techniques are also useful for implementing little languages for specialized tasks; this chapter includes an example from typesetting.</p>
<p>We associate information with a language construct by attaching <strong>attributes</strong> to the grammar symbol(s) representing the construct, as discussed in Section 2.3.2. A <strong>syntax-directed definition</strong> specifies the values of <strong>attributes</strong> by associating <strong>semantic rules</strong> with the grammar productions. For example, an infix-to-postfix translator might have a production and rule</p>
<p><img alt="" src="5.1.jpg" /></p>
<p>From Section 2.3.5, a syntax-directed translation scheme embeds program fragments called <strong>semantic actions</strong> within production bodies, as in</p>
<p><img alt="" src="5.2.jpg" /></p>
<p>By convention, semantic actions are enclosed within curly braces.</p>
<p>Between the two notations, syntax-directed definitions can be more readable, and hence more useful for specifications. However, translation schemes can be more efficient, and hence more useful for implementations.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>syntax-directed definition</td>
<td>SDD</td>
<td>semantic rule</td>
</tr>
<tr>
<td>syntax-directed translation scheme</td>
<td>SDT</td>
<td>semantic action</td>
</tr>
</tbody>
</table>
<p>The most general approach to <strong>syntax-directed translation</strong> is to construct a <strong>parse tree</strong> or a <strong>syntax tree</strong>, and then to compute the values of attributes at the nodes of the tree by visiting the nodes of the tree. In many cases, translation can be done during parsing, without building an explicit tree. We shall therefore
study a class of syntax-directed translations called "L-attributed translations" (L for left-to-right), which encompass virtually all translations that can be performed during parsing. We also study a smaller class, called "S-attributed translations" (S for synthesized), which can be performed easily in connection with a bottom-up parse.</p>
<blockquote>
<p>NOTE: 本书对Syntax-directed translation的功能没有进行直接的描述，是非常任意让人糊涂的，wikipedia的<a href="https://en.wikipedia.org/wiki/Syntax-directed_translation">Syntax-directed translation</a>非常直接简明的描述了Syntax-directed translation的功能:</p>
<blockquote>
<p><strong>Syntax-directed translation</strong> refers to a method of <a href="https://en.wikipedia.org/wiki/Compiler">compiler</a> implementation where the source language translation is completely driven by the <a href="https://en.wikipedia.org/wiki/Parser">parser</a>.</p>
<p>A common method of syntax-directed translation is translating a string into a sequence of actions by attaching one such action to each rule of a <a href="https://en.wikipedia.org/wiki/Grammar">grammar</a>. Thus, parsing a string of the grammar produces a sequence of rule applications. SDT provides a simple way to attach <a href="https://en.wikipedia.org/wiki/Semantics">semantics</a> to any such <a href="https://en.wikipedia.org/wiki/Syntax">syntax</a>.</p>
</blockquote>
<p>上面这段话已经将SDT和<a href="https://en.wikipedia.org/wiki/Semantics">semantics</a>关联到一起了，其实SDT是<a href="https://en.wikipedia.org/wiki/Semantic_analysis_(compilers)">Semantic analysis</a>的一种实现方式，正如wikipedia的<a href="https://en.wikipedia.org/wiki/Compiler">compiler</a>中所描述的：</p>
<blockquote>
<p>A compiler is likely to perform many or all of the following operations: <a href="https://en.wikipedia.org/wiki/Preprocessor">preprocessing</a>, <a href="https://en.wikipedia.org/wiki/Lexical_analysis">lexical analysis</a>, <a href="https://en.wikipedia.org/wiki/Parsing">parsing</a>, <a href="https://en.wikipedia.org/wiki/Semantic_analysis_(compilers)">semantic analysis</a> (<a href="https://en.wikipedia.org/wiki/Syntax-directed_translation">syntax-directed translation</a>), conversion of input programs to an <a href="https://en.wikipedia.org/wiki/Intermediate_representation">intermediate representation</a>, <a href="https://en.wikipedia.org/wiki/Code_optimization">code optimization</a> and <a href="https://en.wikipedia.org/wiki/Code_generation_(compiler)">code generation</a>. </p>
</blockquote>
</blockquote>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="5.1Syntax-Directed-Definitions/" class="btn btn-neutral float-right" title="5.1">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Chapter4-Syntax-Analysis/VS-LL-parser-VS-LR-parser/" class="btn btn-neutral" title="VS-LL-parser-VS-LR-parser"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/dengking/compiler-principle" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Chapter4-Syntax-Analysis/VS-LL-parser-VS-LR-parser/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="5.1Syntax-Directed-Definitions/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
