# 4.2 Context-Free Grammars



## 4.2.3 Derivations

> NOTE: Derivation means 推导 in Chinese.

The construction of a parse tree can be made precise by taking a derivational view, in which productions are treated as rewriting rules. Beginning with the start symbol, each rewriting step replaces a **nonterminal** by the body of one of its productions. This derivational view corresponds to the **top-down** construction
of a **parse tree**, but the precision afforded by **derivations** will be especially helpful when **bottom-up** parsing is discussed. As we shall see, **bottom-up parsing** is related to a class of derivations known as "**rightmost**" derivations, in which the **rightmost nonterminal** is rewritten at each step.

> NOTE: I still do not understand why bottom-up parsing corresponds "**rightmost**" derivations.



$\Rightarrow$

If $S \xrightarrow []{ \ast} \alpha$ where $S$ is the start symbol of a grammar $G$, we say that $\alpha$ is a *sentential form* of G. Note that a **sentential form** may contain both **terminals** and **nonterminals**, and may be empty. A *sentence* of G is a **sentential form** with no **nonterminals**. The *language* generated by a grammar is its set of **sentences**.
Thus, a string of terminals $w$ is in $L(G)$, the language generated by G, if and only if $w$ is a sentence of G (or $S \xrightarrow []{ \ast} w $. A language that can be generated by a **grammar** is said to be a **context-free language**. If two grammars generate the same language, the grammars are said to be *equivalent*.

> NOTE: Natural language is not **context-free language**.



To understand how parsers work, we shall consider derivations in which the **nonterminal** to be replaced at each step is chosen as follows:

1. In *leftmost derivations*, the **leftmost nonterminal** in each sentential is always chosen. If $\alpha \to \beta $ is a step in which the leftmost nonterminal in $\alpha$ is replaced, we write $\alpha \xrightarrow [ \text{lm} ]{} \beta$ .
2. In *rightmost derivations*, the **rightmost nonterminal** is always chosen; we write $\alpha \xrightarrow [ \text{rm} ]{} \beta$   in this case.



If  , then we say that  is a *left-sentential form* of the grammar at hand.

Analogous definitions hold for **rightmost derivations**. Rightmost derivations are sometimes called *canonical derivations*.

## 4.2.4 Parse Trees and Derivations



