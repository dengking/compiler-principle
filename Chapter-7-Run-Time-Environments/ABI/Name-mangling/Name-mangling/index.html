



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Project documentation with Markdown.">
      
      
        <link rel="canonical" href="https://dengking.github.io/compiler-principle/Chapter-7-Run-Time-Environments/ABI/Name-mangling/Name-mangling/">
      
      
        <meta name="author" content="DengKing">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Name-mangling - compiler principle</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../../css/extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#name-mangling" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://dengking.github.io/compiler-principle" title="compiler principle" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              compiler principle
            </span>
            <span class="md-header-nav__topic">
              
                Name-mangling
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/dengking/compiler-principle" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://dengking.github.io/compiler-principle" title="compiler principle" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    compiler principle
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/dengking/compiler-principle" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Chapter-1-Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Chapter-1-Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-1-Introduction/" title="1-Introduction" class="md-nav__link">
      1-Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-1-Introduction/1.1-Language-Processors/" title="1.1-Language-Processors.md" class="md-nav__link">
      1.1-Language-Processors.md
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-1-Introduction/1.2-The-Structure-of-a-Compiler/" title="1.2-The-Structure-of-a-Compiler.md" class="md-nav__link">
      1.2-The-Structure-of-a-Compiler.md
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-1-Introduction/1.5-Applications-of-Compiler-Technology/" title="1.5-Applications-of-Compiler-Technology.md" class="md-nav__link">
      1.5-Applications-of-Compiler-Technology.md
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-1-Introduction/1.6-Programming-Language-Basics/" title="1.6-Programming-Language-Basics.md" class="md-nav__link">
      1.6-Programming-Language-Basics.md
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Chapter-2-A-Simple-Syntax-Directed-Translator
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Chapter-2-A-Simple-Syntax-Directed-Translator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-2-A-Simple-Syntax-Directed-Translator/" title="2" class="md-nav__link">
      2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-2-A-Simple-Syntax-Directed-Translator/2.1-Introduction/" title="2.1-Introduction" class="md-nav__link">
      2.1-Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-2-A-Simple-Syntax-Directed-Translator/2.2-Syntax-Definition/" title="2.2-Syntax-Definition" class="md-nav__link">
      2.2-Syntax-Definition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-2-A-Simple-Syntax-Directed-Translator/2.3-Syntax-Directed-Translation/" title="2.3-Syntax-Directed-Translation" class="md-nav__link">
      2.3-Syntax-Directed-Translation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-2-A-Simple-Syntax-Directed-Translator/2.4-Parsing/" title="2.4-Parsing" class="md-nav__link">
      2.4-Parsing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Chapter-3-Lexical-Analysis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Chapter-3-Lexical-Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-3-Lexical-Analysis/" title="3" class="md-nav__link">
      3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-3-Lexical-Analysis/3.1-The-Role-of-the-Lexical-Analyzer/" title="3.1-The-Role-of-the-Lexical-Analyzer" class="md-nav__link">
      3.1-The-Role-of-the-Lexical-Analyzer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-3-Lexical-Analysis/3.4-Recognition-of-Tokens/" title="3.4-Recognition-of-Tokens" class="md-nav__link">
      3.4-Recognition-of-Tokens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-3-Lexical-Analysis/3.6-Finite-Automata/" title="3.6-Finite-Automata" class="md-nav__link">
      3.6-Finite-Automata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-3-Lexical-Analysis/3.7-From-Regular-Expressions-to-Automata/" title="3.7-From-Regular-Expressions-to-Automata" class="md-nav__link">
      3.7-From-Regular-Expressions-to-Automata
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Chapter-4-Syntax-Analysis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Chapter-4-Syntax-Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-4-Syntax-Analysis/" title="4" class="md-nav__link">
      4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-4-Syntax-Analysis/4.2-Context-Free-Grammars/" title="4.2-Context-Free-Grammars" class="md-nav__link">
      4.2-Context-Free-Grammars
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-4-Syntax-Analysis/4.3-Writing-a-Grammar/" title="4.3-Writing-a-Grammar" class="md-nav__link">
      4.3-Writing-a-Grammar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-4-Syntax-Analysis/4.5-Bottom-Up-Parsing/" title="4.5-Bottom-Up-Parsing" class="md-nav__link">
      4.5-Bottom-Up-Parsing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-4-Syntax-Analysis/4.6-Introduction-to-LR-Parsing-Simple-LR/" title="4.6-Introduction-to-LR-Parsing-Simple-LR" class="md-nav__link">
      4.6-Introduction-to-LR-Parsing-Simple-LR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-4-Syntax-Analysis/4.7-More-Powerful-LR-Parsers/" title="4.7-More-Powerful-LR-Parsers" class="md-nav__link">
      4.7-More-Powerful-LR-Parsers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-4-Syntax-Analysis/VS-LL-parser-VS-LR-parser/" title="VS-LL-parser-VS-LR-parser" class="md-nav__link">
      VS-LL-parser-VS-LR-parser
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Chapter-5-Syntax-Directed-Translation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Chapter-5-Syntax-Directed-Translation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-5-Syntax-Directed-Translation/" title="5" class="md-nav__link">
      5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-5-Syntax-Directed-Translation/5.1-Syntax-Directed-Definitions/" title="5.1-Syntax-Directed-Definitions" class="md-nav__link">
      5.1-Syntax-Directed-Definitions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-5-Syntax-Directed-Translation/5.2-Evaluation-Orders-for-SDD's/" title="5.2-Evaluation-Orders-for-SDD's" class="md-nav__link">
      5.2-Evaluation-Orders-for-SDD's
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-5-Syntax-Directed-Translation/5.3-Applications-of-Syntax-Directed-Translation/" title="5.3--Applications-of-Syntax-Directed-Translation" class="md-nav__link">
      5.3--Applications-of-Syntax-Directed-Translation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Chapter-6-Intermediate-Code-Generation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Chapter-6-Intermediate-Code-Generation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-6-Intermediate-Code-Generation/" title="6" class="md-nav__link">
      6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-6-Intermediate-Code-Generation/6.3-Types-and-Declarations/" title="6.3-Types-and-Declarations" class="md-nav__link">
      6.3-Types-and-Declarations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Chapter-7-Run-Time-Environments
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Chapter-7-Run-Time-Environments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../" title="7" class="md-nav__link">
      7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.1-Storage-Organization/" title="7.1-Storage-Organization" class="md-nav__link">
      7.1-Storage-Organization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../7.2-Stack-Allocation-of-Space/" title="7.2-Stack-Allocation-of-Space" class="md-nav__link">
      7.2-Stack-Allocation-of-Space
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4" checked>
    
    <label class="md-nav__link" for="nav-8-4">
      ABI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-4">
        ABI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Application-binary-interface/" title="Application-binary-interface" class="md-nav__link">
      Application-binary-interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4-2" type="checkbox" id="nav-8-4-2">
    
    <label class="md-nav__link" for="nav-8-4-2">
      Function-Call
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-4-2">
        Function-Call
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4-2-1" type="checkbox" id="nav-8-4-2-1">
    
    <label class="md-nav__link" for="nav-8-4-2-1">
      Call-stack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-8-4-2-1">
        Call-stack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Function-Call/Call-stack/Call-stack/" title="Call-stack" class="md-nav__link">
      Call-stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Function-Call/Call-stack/Call-stack-summary/" title="Call-stack-summary" class="md-nav__link">
      Call-stack-summary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4-2-2" type="checkbox" id="nav-8-4-2-2">
    
    <label class="md-nav__link" for="nav-8-4-2-2">
      Call-convention
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-8-4-2-2">
        Call-convention
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Function-Call/Call-convention/Calling-convention/" title="Calling-convention" class="md-nav__link">
      Calling-convention
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Function-Call/Call-convention/Calling-Conventions-Demystified/" title="Calling-Conventions-Demystified" class="md-nav__link">
      Calling-Conventions-Demystified
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4-3" type="checkbox" id="nav-8-4-3">
    
    <label class="md-nav__link" for="nav-8-4-3">
      Library
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-4-3">
        Library
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Library/Library(computing)/" title="Library(computing)" class="md-nav__link">
      Library(computing)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4-3-2" type="checkbox" id="nav-8-4-3-2">
    
    <label class="md-nav__link" for="nav-8-4-3-2">
      Position-independent-code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-8-4-3-2">
        Position-independent-code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Library/Position-independent-code/Position-independent-code/" title="Position-independent-code" class="md-nav__link">
      Position-independent-code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Library/Position-independent-code/Position-Independent-Code(PIC)-in-shared-libraries/" title="Position-Independent-Code(PIC)-in-shared-libraries" class="md-nav__link">
      Position-Independent-Code(PIC)-in-shared-libraries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4-3-3" type="checkbox" id="nav-8-4-3-3">
    
    <label class="md-nav__link" for="nav-8-4-3-3">
      Relocation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-8-4-3-3">
        Relocation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Library/Relocation/Relocation(computing)/" title="Relocation(computing)" class="md-nav__link">
      Relocation(computing)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4-4" type="checkbox" id="nav-8-4-4" checked>
    
    <label class="md-nav__link" for="nav-8-4-4">
      Name-mangling
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-4-4">
        Name-mangling
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Name-mangling
      </label>
    
    <a href="./" title="Name-mangling" class="md-nav__link md-nav__link--active">
      Name-mangling
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    C
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c_1" class="md-nav__link">
    C++
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-exampleedit" class="md-nav__link">
    Simple example[edit]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-exampleedit" class="md-nav__link">
    Complex example[edit]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-different-compilers-mangle-the-same-functionsedit" class="md-nav__link">
    How different compilers mangle the same functions[edit]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-of-c-symbols-when-linking-from-c" class="md-nav__link">
    Handling of C symbols when linking from C++
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standardised-name-mangling-in-c" class="md-nav__link">
    Standardised name mangling in C++
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real-world-effects-of-c-name-mangling" class="md-nav__link">
    Real-world effects of C++ name mangling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demangle-via-cfilt" class="md-nav__link">
    Demangle via c++filt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demangle-via-builtin-gcc-abi" class="md-nav__link">
    Demangle via builtin GCC ABI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4-5" type="checkbox" id="nav-8-4-5">
    
    <label class="md-nav__link" for="nav-8-4-5">
      Book-x86-Disassembly
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-4-5">
        Book-x86-Disassembly
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Book-x86-Disassembly/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Chapter-9-Machine-Independent-Optimizations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Chapter-9-Machine-Independent-Optimizations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Chapter-9-Machine-Independent-Optimizations/" title="9" class="md-nav__link">
      9
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    C
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c_1" class="md-nav__link">
    C++
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-exampleedit" class="md-nav__link">
    Simple example[edit]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-exampleedit" class="md-nav__link">
    Complex example[edit]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-different-compilers-mangle-the-same-functionsedit" class="md-nav__link">
    How different compilers mangle the same functions[edit]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-of-c-symbols-when-linking-from-c" class="md-nav__link">
    Handling of C symbols when linking from C++
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standardised-name-mangling-in-c" class="md-nav__link">
    Standardised name mangling in C++
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real-world-effects-of-c-name-mangling" class="md-nav__link">
    Real-world effects of C++ name mangling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demangle-via-cfilt" class="md-nav__link">
    Demangle via c++filt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demangle-via-builtin-gcc-abi" class="md-nav__link">
    Demangle via builtin GCC ABI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <div class="toc">
<ul>
<li><a href="#name-mangling">Name mangling</a><ul>
<li><a href="#examples">Examples</a><ul>
<li><a href="#c">C</a></li>
<li><a href="#c_1">C++</a><ul>
<li><a href="#simple-exampleedit">Simple example[edit]</a></li>
<li><a href="#complex-exampleedit">Complex example[edit]</a></li>
<li><a href="#how-different-compilers-mangle-the-same-functionsedit">How different compilers mangle the same functions[edit]</a></li>
<li><a href="#handling-of-c-symbols-when-linking-from-c">Handling of C symbols when linking from C++</a></li>
<li><a href="#standardised-name-mangling-in-c">Standardised name mangling in C++</a></li>
<li><a href="#real-world-effects-of-c-name-mangling">Real-world effects of C++ name mangling</a></li>
<li><a href="#demangle-via-cfilt">Demangle via c++filt</a></li>
<li><a href="#demangle-via-builtin-gcc-abi">Demangle via builtin GCC ABI</a></li>
</ul>
</li>
<li><a href="#python">Python</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="name-mangling"><a href="https://en.wikipedia.org/wiki/Name_mangling#Name_mangling_in_C++">Name mangling</a><a class="headerlink" href="#name-mangling" title="Permanent link">#</a></h1>
<p>In <a href="https://en.wikipedia.org/wiki/Compiler">compiler</a> construction, <strong>name mangling</strong> (also called <strong>name decoration</strong>) is a technique used to solve various problems caused by the need to resolve unique names for <strong>programming entities</strong> in many modern <a href="https://en.wikipedia.org/wiki/Programming_language">programming languages</a>.</p>
<p>It provides a way of encoding additional information in the name of a <a href="https://en.wikipedia.org/wiki/Function_(programming)">function</a>, <a href="https://en.wikipedia.org/wiki/Structure">structure</a>, <a href="https://en.wikipedia.org/wiki/Class_(computer_science)">class</a> or another <a href="https://en.wikipedia.org/wiki/Datatype">datatype</a> in order to pass more semantic information from the <a href="https://en.wikipedia.org/wiki/Compiler">compilers</a> to <a href="https://en.wikipedia.org/wiki/Linker_(computing)">linkers</a>.</p>
<p><strong><em>SUMMARY</em></strong> : 上面这段话描述了使用name mangling的意图</p>
<p>The need arises where the language allows different <strong>entities</strong> to be named with the same <a href="https://en.wikipedia.org/wiki/Identifier">identifier</a> as long as they occupy a different <a href="https://en.wikipedia.org/wiki/Namespace">namespace</a> (where a namespace is typically defined by a module, class, or explicit <em>namespace</em> directive) or have different signatures (such as <a href="https://en.wikipedia.org/wiki/Function_overloading">function overloading</a>).</p>
<p>Any <a href="https://en.wikipedia.org/wiki/Object_code">object code</a> produced by compilers is usually linked with other pieces of object code (produced by the same or another compiler) by a type of program called a <a href="https://en.wikipedia.org/wiki/Linker_(computing)">linker</a>. The linker needs a great deal of information on each program entity. For example, to correctly link a function it needs its name, the number of arguments and their types, and so on.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">#</a></h2>
<h3 id="c">C<a class="headerlink" href="#c" title="Permanent link">#</a></h3>
<p>Although name mangling is not generally required or used by languages that do not support <a href="https://en.wikipedia.org/wiki/Function_overloading">function overloading</a> (such as C and classic Pascal), they use it in some cases to provide additional information about a function. For example, compilers targeted at Microsoft Windows platforms support a variety of <a href="https://en.wikipedia.org/wiki/Calling_convention">calling conventions</a>, which determine the manner in which parameters are sent to subroutines and results returned. Because the different <strong>calling conventions</strong> are not compatible with one another, compilers mangle symbols with codes detailing which <strong>convention</strong> should be used to call the specific routine.</p>
<p><strong><em>SUMMARY</em></strong> : encode calling convention in the name</p>
<p>The <strong>mangling scheme</strong> was established by Microsoft, and has been informally followed by other compilers including Digital Mars, Borland, and GNU GCC, when compiling code for the Windows platforms. The scheme even applies to other languages, such as <a href="https://en.wikipedia.org/wiki/Pascal_programming_language">Pascal</a>, <a href="https://en.wikipedia.org/wiki/D_programming_language">D</a>, <a href="https://en.wikipedia.org/wiki/Embarcadero_Delphi">Delphi</a>, <a href="https://en.wikipedia.org/wiki/Fortran">Fortran</a>, and <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)">C#</a>. This allows subroutines written in those languages to call, or be called by, existing Windows libraries using a calling convention different from their default.</p>
<p>When compiling the following C examples:</p>
<pre><code class="c">int _cdecl    f (int x) { return 0; }
int _stdcall  g (int y) { return 0; }
int _fastcall h (int z) { return 0; }
</code></pre>

<p>32 bit compilers emit, respectively:</p>
<pre><code class="c">_f
_g@4
@h@4
</code></pre>

<p>In the <code>stdcall</code> and <code>fastcall</code> mangling schemes, the function is encoded as <code>_**name**@**X**</code> and <code>@**name**@**X**</code> respectively, where <strong>X</strong> is the number of bytes, in decimal, of the argument(s) in the parameter list (including those passed in registers, for fastcall). In the case of <code>cdecl</code>, the function name is merely prefixed by an underscore.</p>
<p>The 64-bit convention on Windows (Microsoft C) has no leading underscore. This difference may in some rare cases lead to unresolved externals when porting such code to 64 bits. For example, Fortran code can use 'alias' to link against a C method by name as follows:</p>
<pre><code class="Fortran">SUBROUTINE f()
!DEC$ ATTRIBUTES C, ALIAS:'_f' :: f
END SUBROUTINE
</code></pre>

<p>This will compile and link fine under 32 bits, but generate an unresolved external '_f' under 64 bits. One workaround for this is not to use 'alias' at all (in which the method names typically need to be capitalized in C and Fortran). Another is to use the BIND option:</p>
<pre><code class="Fortran">SUBROUTINE f() BIND(C,NAME=&quot;f&quot;)
END SUBROUTINE
</code></pre>

<h3 id="c_1">C++<a class="headerlink" href="#c_1" title="Permanent link">#</a></h3>
<p><a href="https://en.wikipedia.org/wiki/C%2B%2B">C++</a> compilers are the most widespread users of <strong>name mangling</strong>. The first C++ compilers were implemented as translators to <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C</a> source code, which would then be compiled by a C compiler to object code; because of this, symbol names had to conform to C identifier rules. Even later, with the emergence of compilers which produced machine code or assembly directly, the system's <a href="https://en.wikipedia.org/wiki/Linker_(computing)">linker</a> generally did not support C++ symbols, and mangling was still required.</p>
<p>The <a href="https://en.wikipedia.org/wiki/C%2B%2B">C++</a> language does not define a standard decoration scheme, so each compiler uses its own. C++ also has complex language features, such as <a href="https://en.wikipedia.org/wiki/C%2B%2B_class">classes</a>, <a href="https://en.wikipedia.org/wiki/C%2B%2B_template">templates</a>, <a href="https://en.wikipedia.org/wiki/Namespace_(C%2B%2B)">namespaces</a>, and <a href="https://en.wikipedia.org/wiki/Operator_overloading">operator overloading</a>, that alter the meaning of specific symbols based on context or usage. Meta-data about these features can be disambiguated(消除) by mangling (decorating) the name of a <a href="https://en.wikipedia.org/wiki/Debug_symbol">symbol</a>. Because the <strong>name-mangling systems</strong> for such features are not standardized across compilers, few linkers can link object code that was produced by different compilers.</p>
<h4 id="simple-exampleedit">Simple example[<a href="https://en.wikipedia.org/w/index.php?title=Name_mangling&amp;action=edit&amp;section=4">edit</a>]<a class="headerlink" href="#simple-exampleedit" title="Permanent link">#</a></h4>
<p>A single C++ translation unit might define two functions named <code>f()</code>:</p>
<pre><code class="cpp">int  f (void) { return 1; }
int  f (int)  { return 0; }
void g (void) { int i = f(), j = f(0); }
</code></pre>

<p>These are distinct functions, with no relation to each other apart from the name. The C++ compiler therefore will encode the type information in the symbol name, the result being something resembling:</p>
<pre><code class="cpp">int  __f_v (void) { return 1; }
int  __f_i (int)  { return 0; }
void __g_v (void) { int i = __f_v(), j = __f_i(0); }
</code></pre>

<p>Even though its name is unique, <code>g()</code> is still mangled: name mangling applies to <strong>all</strong> symbols.</p>
<h4 id="complex-exampleedit">Complex example[<a href="https://en.wikipedia.org/w/index.php?title=Name_mangling&amp;action=edit&amp;section=5">edit</a>]<a class="headerlink" href="#complex-exampleedit" title="Permanent link">#</a></h4>
<p>The mangled symbols in this example, in the comments below the respective identifier name, are those produced by the GNU GCC 3.x compilers:</p>
<pre><code class="cpp">namespace wikipedia 
{
   class article 
   {
   public:
      std::string format (void); 
         /* = _ZN9wikipedia7article6formatEv */

      bool print_to (std::ostream&amp;); 
         /* = _ZN9wikipedia7article8print_toERSo */

      class wikilink 
      {
      public:
         wikilink (std::string const&amp; name);
            /* = _ZN9wikipedia7article8wikilinkC1ERKSs */
      };
   };
}
</code></pre>

<p>All mangled symbols begin with <strong>_Z</strong> (note that an identifier beginning with an underscore followed by a capital is a <a href="https://en.wikipedia.org/wiki/Reserved_identifier">reserved identifier</a> in C, so conflict with user identifiers is avoided); for nested names (including both namespaces and classes), this is followed by <code>N</code>, then a series of <length, id> pairs (the length being the length of the next identifier), and finally <code>E</code>. For example, <code>wikipedia::article::format</code> becomes</p>
<pre><code class="c">_ZN9Wikipedia7article6formatE
</code></pre>

<p>For functions, this is then followed by the type information; as <code>format()</code> is a <code>void</code> function, this is simply <code>v</code>; hence:</p>
<pre><code>_ZN9Wikipedia7article6formatEv
</code></pre>

<p>For <code>print_to</code>, the standard type <code>std::ostream</code> (which is a <code>typedef</code> for <code>std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;</code>) is used, which has the special alias <code>So</code>; a reference to this type is therefore <code>RSo</code>, with the complete name for the function being:</p>
<pre><code>_ZN9Wikipedia7article8print_toERSo
</code></pre>

<h4 id="how-different-compilers-mangle-the-same-functionsedit">How different compilers mangle the same functions[<a href="https://en.wikipedia.org/w/index.php?title=Name_mangling&amp;action=edit&amp;section=6">edit</a>]<a class="headerlink" href="#how-different-compilers-mangle-the-same-functionsedit" title="Permanent link">#</a></h4>
<p>There isn't a standard scheme by which even trivial C++ identifiers are mangled, and consequently different compilers (or even different versions of the same compiler, or the same compiler on different platforms) mangle public symbols in radically different (and thus totally incompatible) ways. Consider how different C++ compilers mangle the same functions:</p>
<table>
<thead>
<tr>
<th>Compiler</th>
<th><code>void h(int)</code></th>
<th><code>void h(int, char)</code></th>
<th><code>void h(void)</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>Intel C++ 8.0 for Linux</td>
<td><code>_Z1hi</code></td>
<td><code>_Z1hic</code></td>
<td><code>_Z1hv</code></td>
</tr>
<tr>
<td>HP aC++ A.05.55 IA-64</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>IAR EWARM C++ 5.4 ARM</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/GNU_Compiler_Collection">GCC</a> 3.<em>x</em> and higher</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Clang">Clang</a> 1.<em>x</em> and higher[<a href="https://en.wikipedia.org/wiki/Name_mangling#cite_note-1">1]</a></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>IAR EWARM C++ 7.4 ARM</td>
<td><code>_Z&lt;number&gt;hi</code></td>
<td><code>_Z&lt;number&gt;hic</code></td>
<td><code>_Z&lt;number&gt;hv</code></td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/GNU_Compiler_Collection">GCC</a> 2.9<em>x</em></td>
<td><code>h__Fi</code></td>
<td><code>h__Fic</code></td>
<td><code>h__Fv</code></td>
</tr>
<tr>
<td>HP aC++ A.03.45 PA-RISC</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Microsoft_Visual_C%2B%2B">Microsoft Visual C++</a> v6-v10 (<a href="https://en.wikiversity.org/wiki/Visual_C%2B%2B_name_mangling">mangling details</a>)</td>
<td><code>?h@@YAXH@Z</code></td>
<td><code>?h@@YAXHD@Z</code></td>
<td><code>?h@@YAXXZ</code></td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Digital_Mars">Digital Mars</a> C++</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Borland C++ v3.1</td>
<td><code>@h$qi</code></td>
<td><code>@h$qizc</code></td>
<td><code>@h$qv</code></td>
</tr>
<tr>
<td>OpenVMS C++ V6.5 (ARM mode)</td>
<td><code>H__XI</code></td>
<td><code>H__XIC</code></td>
<td><code>H__XV</code></td>
</tr>
<tr>
<td>OpenVMS C++ V6.5 (ANSI mode)</td>
<td></td>
<td><code>CXX$__7H__FIC26CDH77</code></td>
<td><code>CXX$__7H__FV2CB06E8</code></td>
</tr>
<tr>
<td>OpenVMS C++ X7.1 IA-64</td>
<td><code>CXX$_Z1HI2DSQ26A</code></td>
<td><code>CXX$_Z1HIC2NP3LI4</code></td>
<td><code>CXX$_Z1HV0BCA19V</code></td>
</tr>
<tr>
<td>SunPro CC</td>
<td><code>__1cBh6Fi_v_</code></td>
<td><code>__1cBh6Fic_v_</code></td>
<td><code>__1cBh6F_v_</code></td>
</tr>
<tr>
<td>Tru64 C++ V6.5 (ARM mode)</td>
<td><code>h__Xi</code></td>
<td><code>h__Xic</code></td>
<td><code>h__Xv</code></td>
</tr>
<tr>
<td>Tru64 C++ V6.5 (ANSI mode)</td>
<td><code>__7h__Fi</code></td>
<td><code>__7h__Fic</code></td>
<td><code>__7h__Fv</code></td>
</tr>
<tr>
<td>Watcom C++ 10.6</td>
<td><code>W?h$n(i)v</code></td>
<td><code>W?h$n(ia)v</code></td>
<td><code>W?h$n()v</code></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul>
<li>The Compaq C++ compiler on OpenVMS VAX and Alpha (but not IA-64) and Tru64 has two name mangling schemes. The original, pre-standard scheme is known as ARM model, and is based on the name mangling described in the C++ Annotated Reference Manual (ARM). With the advent of new features in standard C++, particularly <a href="https://en.wikipedia.org/wiki/Template_(programming)">templates</a>, the ARM scheme became more and more unsuitable — it could not encode certain function types, or produced identical mangled names for different functions. It was therefore replaced by the newer "ANSI" model, which supported all ANSI template features, but was not backwards compatible.</li>
<li>On IA-64, a standard <a href="https://en.wikipedia.org/wiki/Application_binary_interface">Application Binary Interface (ABI)</a> exists (see <a href="https://en.wikipedia.org/wiki/Name_mangling#External_links">external links</a>), which defines (among other things) a standard name-mangling scheme, and which is used by all the IA-64 compilers. GNU GCC 3.<em>x</em>, in addition, has adopted the name mangling scheme defined in this standard for use on other, non-Intel platforms.</li>
<li>The Visual Studio and Windows SDK include the program <code>undname</code> which prints the C-style function prototype for a given mangled name.</li>
<li>On Microsoft Windows, the Intel compiler[<a href="https://en.wikipedia.org/wiki/Name_mangling#cite_note-2">2]</a> and <a href="https://en.wikipedia.org/wiki/Clang">Clang</a>[<a href="https://en.wikipedia.org/wiki/Name_mangling#cite_note-3">3]</a> uses the Visual C++ name mangling for compatibility.</li>
<li>For the IAR EWARM C++ 7.4 ARM compiler the best way to determine the name of a function is to compile with the assembler output turned on and to look at the output in the ".s" file thus generated.</li>
</ul>
<h4 id="handling-of-c-symbols-when-linking-from-c">Handling of C symbols when linking from C++<a class="headerlink" href="#handling-of-c-symbols-when-linking-from-c" title="Permanent link">#</a></h4>
<p>The job of the common C++ idiom:</p>
<pre><code class="cpp">#ifdef __cplusplus 
extern &quot;C&quot; {
#endif
    /* ... */
#ifdef __cplusplus
}
#endif
</code></pre>

<p>is to ensure that the symbols within are "unmangled" – that the compiler emits(创造，生产出) a binary file with their names undecorated, as a C compiler would do. As C language definitions are unmangled, the C++ compiler needs to avoid mangling references to these identifiers.</p>
<p>For example, the standard strings library, <code>&lt;string.h&gt;</code> usually contains something resembling:</p>
<pre><code class="cpp">#ifdef __cplusplus
extern &quot;C&quot; {
#endif

void *memset (void *, int, size_t);
char *strcat (char *, const char *);
int   strcmp (const char *, const char *);
char *strcpy (char *, const char *);

#ifdef __cplusplus
}
#endif
</code></pre>

<p>Thus, code such as:</p>
<pre><code class="c">if (strcmp(argv[1], &quot;-x&quot;) == 0) 
    strcpy(a, argv[2]);
else 
    memset (a, 0, sizeof(a));
</code></pre>

<p>uses the correct, unmangled <code>strcmp</code> and <code>memset</code>. If the <code>extern</code> had not been used, the (SunPro) C++ compiler would produce code equivalent to:</p>
<pre><code class="c">if (__1cGstrcmp6Fpkc1_i_(argv[1], &quot;-x&quot;) == 0) 
    __1cGstrcpy6Fpcpkc_0_(a, argv[2]);
else 
    __1cGmemset6FpviI_0_ (a, 0, sizeof(a));
</code></pre>

<p>Since those <strong>symbols</strong> do not exist in the C runtime library (<em>e.g.</em> <code>libc</code>), link errors would result.</p>
<h4 id="standardised-name-mangling-in-c">Standardised name mangling in C++<a class="headerlink" href="#standardised-name-mangling-in-c" title="Permanent link">#</a></h4>
<p>Though it would seem that standardised name mangling in the C++ language would lead to greater interoperability between compiler implementations, such a standardization by itself would not suffice to guarantee C++ compiler interoperability and it might even create a false impression that interoperability is possible and safe when it isn't. <strong>Name mangling</strong> is only one of several <a href="https://en.wikipedia.org/wiki/Application_binary_interface">application binary interface</a> (ABI) details that need to be decided and observed by a C++ implementation. Other ABI aspects like <a href="https://en.wikipedia.org/wiki/Exception_handling">exception handling</a>, <a href="https://en.wikipedia.org/wiki/Virtual_table">virtual table</a> layout, structure and stack frame <a href="https://en.wikipedia.org/wiki/Data_structure_alignment">padding</a>, <em>etc.</em> also cause differing C++ implementations to be incompatible. Further, requiring a particular form of mangling would cause issues for systems where implementation limits (e.g., length of symbols) dictate a particular mangling scheme. A standardised <em>requirement</em> for name mangling would also prevent an implementation where mangling was not required at all — for example, a linker which understood the C++ language.</p>
<p>The <a href="https://en.wikipedia.org/wiki/ISO/IEC_14882">C++ standard</a> therefore does not attempt to standardise name mangling. On the contrary, the <em>Annotated C++ Reference Manual</em> (also known as <em>ARM</em>, <a href="https://en.wikipedia.org/wiki/International_Standard_Book_Number">ISBN</a> <a href="https://en.wikipedia.org/wiki/Special:BookSources/0-201-51459-1">0-201-51459-1</a>, section 7.2.1c) actively encourages the use of different mangling schemes to prevent linking when other aspects of the ABI, such as <a href="https://en.wikipedia.org/wiki/Exception_handling">exception handling</a> and <a href="https://en.wikipedia.org/wiki/Virtual_table">virtual table</a> layout, are incompatible.</p>
<p>Nevertheless, as detailed in the section above, on some platforms[<a href="https://en.wikipedia.org/wiki/Name_mangling#cite_note-4">4]</a> the full C++ ABI has been standardized, including name mangling.</p>
<h4 id="real-world-effects-of-c-name-mangling">Real-world effects of C++ name mangling<a class="headerlink" href="#real-world-effects-of-c-name-mangling" title="Permanent link">#</a></h4>
<p>Because C++ symbols are routinely exported from <a href="https://en.wikipedia.org/wiki/Dynamic-link_library">DLL</a> and <a href="https://en.wikipedia.org/wiki/Shared_object">shared object</a> files, the name mangling scheme is not merely a compiler-internal matter. Different compilers (or different versions of the same compiler, in many cases) produce such binaries under different name decoration schemes, meaning that symbols are frequently unresolved if the compilers used to create the library and the program using it employed different schemes. For example, if a system with multiple C++ compilers installed (e.g., GNU GCC and the OS vendor's compiler) wished to install the <a href="https://en.wikipedia.org/wiki/Boost_C%2B%2B_Libraries">Boost C++ Libraries</a>, it would have to be compiled multiple times (once for GCC and once for the vendor compiler).</p>
<p>It is good for safety purposes that compilers producing <strong>incompatible</strong> object codes (codes based on different ABIs, regarding e.g., classes and exceptions) use different name mangling schemes. This guarantees that these incompatibilities are detected at the <strong>linking</strong> phase, not when executing the software (which could lead to obscure(模糊的，隐晦的) bugs and serious stability issues).</p>
<p>For this reason name decoration is an important aspect of any C++-related <a href="https://en.wikipedia.org/wiki/Application_binary_interface">ABI</a>.</p>
<h4 id="demangle-via-cfilt">Demangle via c++filt<a class="headerlink" href="#demangle-via-cfilt" title="Permanent link">#</a></h4>
<pre><code class="shell">$ c++filt _ZNK3MapI10StringName3RefI8GDScriptE10ComparatorIS0_E16DefaultAllocatorE3hasERKS0_
Map&lt;StringName, Ref&lt;GDScript&gt;, Comparator&lt;StringName&gt;, DefaultAllocator&gt;::has(StringName const&amp;) const
</code></pre>

<h4 id="demangle-via-builtin-gcc-abi">Demangle via builtin GCC ABI<a class="headerlink" href="#demangle-via-builtin-gcc-abi" title="Permanent link">#</a></h4>
<pre><code class="c++">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;cxxabi.h&gt;

int main() {
    const char *mangled_name = &quot;_ZNK3MapI10StringName3RefI8GDScriptE10ComparatorIS0_E16DefaultAllocatorE3hasERKS0_&quot;;
    char *demangled_name;
    int status = -1;
    demangled_name = abi::__cxa_demangle(mangled_name, NULL, NULL, &amp;status);
    printf(&quot;Demangled: %s\n&quot;, demangled_name);
    free(demangled_name);
    return 0;
}
</code></pre>

<p>Output:</p>
<pre><code>Demangled: Map&lt;StringName, Ref&lt;GDScript&gt;, Comparator&lt;StringName&gt;, DefaultAllocator&gt;::has(StringName const&amp;) const
</code></pre>

<h3 id="python">Python<a class="headerlink" href="#python" title="Permanent link">#</a></h3>
<p>In <a href="https://en.wikipedia.org/wiki/Python_(programming_language)">Python</a>, mangling is used for "private" class members which are designated as such by giving them a name with two leading underscores and no more than one trailing underscore. For example, <code>__thing</code> will be mangled, as will <code>___thing</code> and <code>__thing_</code>, but <code>__thing__</code> and <code>__thing___</code> will not. Python's runtime does not restrict access to such members, the mangling only prevents name collisions if a derived class defines a member with the same name.</p>
<p>On encountering name mangled attributes, Python transforms these names by prepending a single underscore and the name of the enclosing class, for example:</p>
<pre><code class="python">&gt;&gt;&gt; class Test(object):
...     def __mangled_name(self):
...         pass
...     def normal_name(self):
...         pass
&gt;&gt;&gt; t = Test()
&gt;&gt;&gt; [attr for attr in dir(t) if 'name' in attr]
['_Test__mangled_name', 'normal_name']
</code></pre>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../Library/Relocation/Relocation(computing)/" title="Relocation(computing)" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Relocation(computing)
              </span>
            </div>
          </a>
        
        
          <a href="../../Book-x86-Disassembly/" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Introduction
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
    
  </body>
</html>